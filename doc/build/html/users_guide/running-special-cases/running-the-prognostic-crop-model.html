

<!doctype html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>5.2. Running the prognostic crop model &#8212; clmdoc  documentation</title>
    
    <link rel="stylesheet" href="../../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="5.3. Running with irrigation" href="running-with-irrigation.html" />
    <link rel="prev" title="5.1. What is a special case?" href="what-is-a-special-case.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="running-with-irrigation.html" title="5.3. Running with irrigation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="what-is-a-special-case.html" title="5.1. What is a special case?"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">clmdoc  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >CLM User&#8217;s Guide</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">5. Running Special Cases</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">5.2. Running the prognostic crop model</a><ul>
<li><a class="reference internal" href="#example-crop-simulation">5.2.1. Example: Crop Simulation</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="what-is-a-special-case.html"
                        title="previous chapter">5.1. What is a special case?</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="running-with-irrigation.html"
                        title="next chapter">5.3. Running with irrigation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/users_guide/running-special-cases/running-the-prognostic-crop-model.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="running-the-prognostic-crop-model">
<h1>5.2. Running the prognostic crop model<a class="headerlink" href="#running-the-prognostic-crop-model" title="Permalink to this headline">¶</a></h1>
<p>The prognostic crop model is setup to work with CLM4.5-BGC or CLM4.0-CN (with or without DV) for present day conditions and we have surface and initial condition datasets at f19 resolution.
In order to use the initial condition file, we need to set the <code class="docutils literal"><span class="pre">RUN_TYPE</span></code> to startup rather than <code class="docutils literal"><span class="pre">hybrid</span></code> since the compset for f19 sets up to use an initial condition file without crop active.
To activate the crop model you can choose a compset that has &#8220;CROP&#8221; in the name such as &#8220;ICRUCLM45BGCCROP&#8221; or simply add &#8220;-crop on&#8221; to <code class="docutils literal"><span class="pre">CLM_CONFIG_OPTS</span></code>.</p>
<div class="section" id="example-crop-simulation">
<h2>5.2.1. Example: Crop Simulation<a class="headerlink" href="#example-crop-simulation" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">cd</span> <span class="n">scripts</span>
<span class="o">&gt;</span> <span class="o">./</span><span class="n">create_newcase</span> <span class="o">-</span><span class="n">case</span> <span class="n">CROP</span> <span class="o">-</span><span class="n">res</span> <span class="n">f19_g16</span> <span class="o">-</span><span class="n">compset</span> <span class="n">I1850CRUCLM45BGC</span>
<span class="o">&gt;</span> <span class="n">cd</span> <span class="n">CROP</span>

<span class="c1"># Append &quot;-crop on&quot; to CLM_CONFIG_OPTS in env_build.xml (you could also use an editor)</span>
<span class="o">&gt;</span> <span class="o">./</span><span class="n">xmlchange</span> <span class="n">CLM_CONFIG_OPTS</span><span class="o">=</span><span class="s2">&quot;-crop on&quot;</span> <span class="o">-</span><span class="n">append</span>

<span class="c1"># Change to startup type so uses spunup initial conditions file for crop if it exists</span>
<span class="c1"># By default the model will do a hybrid startup with an initial condition file</span>
<span class="c1"># incompatible with the crop surface dataset.</span>

<span class="o">&gt;</span> <span class="o">./</span><span class="n">xmlchange</span> <span class="n">RUN_TYPE</span><span class="o">=</span><span class="n">startup</span>
<span class="o">&gt;</span> <span class="o">./</span><span class="n">case</span><span class="o">.</span><span class="n">setup</span>

<span class="c1"># Now build and run normally</span>
<span class="o">&gt;</span> <span class="o">./</span><span class="n">case</span><span class="o">.</span><span class="n">build</span>
<span class="o">&gt;</span> <span class="o">./</span><span class="n">case</span><span class="o">.</span><span class="n">submit</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="running-with-irrigation.html" title="5.3. Running with irrigation"
             >next</a> |</li>
        <li class="right" >
          <a href="what-is-a-special-case.html" title="5.1. What is a special case?"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">clmdoc  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >CLM User&#8217;s Guide</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >5. Running Special Cases</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Erik Kluzek, Bill Sacks, Ben Andre.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.2.
    </div>
  </body>
</html>