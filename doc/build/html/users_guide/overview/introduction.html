

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>1.1.1. Introduction &#8212; clmdoc release-clm5.0.01 documentation</title>
    <link rel="stylesheet" href="../../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="1.1.8. Quickstart" href="quickstart.html" />
    <link rel="prev" title="1.1. Overview" href="index.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="quickstart.html" title="1.1.8. Quickstart"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="1.1. Overview"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">clmdoc release-clm5.0.01 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >1. clm5.0 User’s Guide</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">1.1. Overview</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">1.1.1. Introduction</a></li>
<li><a class="reference internal" href="#what-is-new-with-version">1.1.2. What is New with clm5.0</a></li>
<li><a class="reference internal" href="#overview-of-user-s-guide">1.1.3. Overview of User’s Guide</a></li>
<li><a class="reference internal" href="#readme-file-describing-version">1.1.4. README file describing clm5.0</a></li>
<li><a class="reference internal" href="#best-practices">1.1.5. Best Practices</a></li>
<li><a class="reference internal" href="#a-ctsm-versus-a-cesm-checkout">1.1.6. A CTSM versus a CESM checkout</a></li>
<li><a class="reference internal" href="#id16">1.1.7. How To Use This Document</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">1.1. Overview</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="quickstart.html"
                        title="next chapter">1.1.8. Quickstart</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/users_guide/overview/introduction.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <p id="introduction"><strong>User’s Guide to version |version| of the Community Land Model (CLM)</strong></p>
<p><strong>Authors: Benjamin Andre, Erik Kluzek, William Sacks</strong></p>
<p>The National Center for Atmospheric Research (NCAR) is operated by the
nonprofit University Corporation for Atmospheric Research (UCAR) under
the sponsorship of the National Science Foundation. Any opinions,
findings, conclusions, or recommendations expressed in this publication
are those of the author(s) and do not necessarily reflect the views of
the National Science Foundation.</p>
<p>National Center for Atmospheric Research
P. O. Box 3000, Boulder, Colorado 80307-3000</p>
<div class="section" id="rst-users-guide-introduction">
<span id="id1"></span><h1>1.1.1. Introduction<a class="headerlink" href="#rst-users-guide-introduction" title="Permalink to this headline">¶</a></h1>
<p>The Community Land Model (release-clm5.0.01 in CESM2.0.0) is the latest in a
series of global land models developed by the CESM Land Model Working
Group (LMWG) and maintained at the National Center for Atmospheric
Research (NCAR). This guide is intended to instruct both the novice
and experienced user on running CLM. This guide pertains to the latest
version clm5.0 in CESM2.0.0 available for download from the public
release subversion repository as a part of CESM2.0.0. Documentation
may be different if you are using an older version, you should either
use the documentation for that release version, update to the latest
version, or use the documentation inside your own source tree. There
is information in the ChangeLog file and in the <a class="reference external" href="CLM-URL">What is new with
|version| in |cesmrelease| since previous public releases?</a>
regarding the changes from previous versions of CESM.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This release of clm5.0 in CESM2.0.0 includes BOTH CLM4.0
physics and CLM4.5 physics used in previous releases as well as the updated clm5.0
physics. CLM allow you to trigger between the three physics modes. Most often when we refer to CLM4.0 we
are referring to the CLM4.0 physics in clm5.0 in CESM2.0.0 rather
than to a specific version of CLM4.0 (where we would give the exact
version). And when we refer to CLM4.5 we are referring to the CLM4.5
physics in clm5.0 in CESM2.0.0 rather
than to a specific version of CLM4.5. Likewise, when referring to clm5.0 we are referring to the
clm5.0 physics in clm5.0 in CESM2.0.0.</p>
</div>
<p>The novice user should read <a class="reference external" href="CLM-URL">Chapter 1</a> in detail before
beginning work, while the expert user should read <a class="reference external" href="CLM-URL">What is new with
|version| in |cesmrelease| since previous public releases?</a> and
<a class="reference external" href="CLM-URL">Quickstart to using |version|</a> chapters, and then use the
more detailed chapters as reference. Before novice users go onto more
technical problems covered in <a class="reference external" href="CLM-URL">Chapter 2</a>, <a class="reference external" href="CLM-URL">Chapter 3</a>, <a class="reference external" href="CLM-URL">Chapter 4</a>, or <a class="reference external" href="CLM-URL">Chapter 5</a> they
should know the material covered in <a class="reference external" href="CLM-URL">Chapter 1</a> and be able
to replicate some of the examples given there.</p>
<p>All users should read the <a class="reference external" href="CLM-URL">How to Use This Document</a> and
<a class="reference external" href="CLM-URL">Other resources to get help from</a> sections to understand
the document conventions and the various ways of getting help on using
clm5.0. Users should also read the <a class="reference external" href="CLM-URL">What is scientifically validated
and functional in |version| in |cesmrelease|?</a> section to see if
their planned use of the model is something that has been
scientifically validated and well tested. Users that are NOT using
NCAR machines or our list of well tested machines should also read the
What are the UNIX utilities required to use clm5.0? section to make
sure they have all the required UNIX utilities on the system they want
to do their work.</p>
<p>Developers that are making changes to CLM either for their own
development or for development that they hope will eventually become a
part of the main CLM should read the <a class="reference external" href="CLM-URL">Chapter 8</a>
chapter. We have a suite of test scripts that automatically test many
different model configurations and namelist options, as well as
ensuring things like restarts are bit-for-bit and the like. It’s
helpful to use these scripts to ensure your changes are working
correctly. As well as being a required part of the process to bring in
new code developments. And it’s far easier to use the automated
scripts rather than having to figure out, what to test, how to do it,
and then finally do it by hand. If you are using non supported
machines you may also want to use the test scripts to make sure your
machine is working correctly.</p>
</div>
<div class="section" id="what-is-new-with-version">
<span id="what-is-new-with-clm5-0"></span><h1>1.1.2. What is New with clm5.0<a class="headerlink" href="#what-is-new-with-version" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://escomp.github.io/ctsm-docs/doc/build/html/tech_note/Introduction/CLM50_Tech_Note_Introduction.html#|version|/">What’s new with |version| science</a>
gives a synopsis of the changes to CLM since the CLM4.5 release.
More details are given in the <a class="reference external" href="CLM-URL">CLM ChangeLog file</a>.</p>
<p>Previous release pages give similar list of changes for previous versions of the model.</p>
</div>
<div class="section" id="overview-of-user-s-guide">
<span id="users-guide-overview"></span><h1>1.1.3. Overview of User’s Guide<a class="headerlink" href="#overview-of-user-s-guide" title="Permalink to this headline">¶</a></h1>
<p>In this introduction we first give a simple guide to understand the document conventions in <a class="reference external" href="CLM-URL">How to Use This Document</a>.
The next section <a class="reference external" href="CLM-URL">What is new with |version| in |cesmrelease| since previous public releases?</a> gives references to describe the differences between clm5.0 in CESM2.0.0 and previous CESM releases both from a scientific as well as a software engineering point of view.
For information on previous releases of clm5.0 before clm5.0 in CESM2.0.0 see the CESM1.2.2 documentation.
The next section <a class="reference external" href="CLM-URL">Quickstart to using |version|</a> is for users that are already experts in using CLM and gives a quickstart guide to the bare details on how to use clm5.0.
The next <a class="reference external" href="CLM-URL">What is scientifically validated and functional in |version| in |cesmrelease|?</a> tells you about what has been extensively tested and scientifically validated (and maybe more importantly) what has NOT.
<a class="reference external" href="CLM-URL">What are the UNIX utilities required to use |version|?</a> lists the UNIX utilities required to use clm5.0 and is important if you are running on non-NCAR machines, generic local machines, or machines NOT as well tested by us at NCAR.
Next we have <a class="reference external" href="CLM-URL">Important Notes and Best Practices for Usage of |version|</a> to detail some of the best practices for using clm5.0 for science.
The last introductory section is <a class="reference external" href="CLM-URL">Other resources</a> to get help from which lists different resources for getting help with clm5.0 and CESM2.0.0.</p>
<p><a class="reference external" href="CLM-URL">Chapter 1</a> goes into detail on how to setup and run simulations with clm5.0 and especially how to customize cases.
Details of cesm_setup modes and build-namelist options as well as namelist options are given in this chapter.</p>
<p><a class="reference external" href="CLM-URL">Chapter 2</a> gives instructions on the CLM tools for either CLM4.5 or clm5.0 physics for creating input datasets for use by CLM, for the expert user.
There’s an overview of what each tool does, and some general notes on how to build the FORTRAN tools.
Then each tool is described in detail along with different ways in which the tool might be used.
A final section on how to customize datasets for observational sites for very savvy expert users is given as the last section of this chapter.</p>
<p>As a followup to the tools chapter, <a class="reference external" href="CLM-URL">Chapter 3</a> tells how to add files to the XML database for build-namelist to use.
This is important if you want to use the XML database to automatically select user-created input files that you have created when you setup new cases with CLM (CLM4.0, CLM4.5 and clm5.0 physics).</p>
<p>In <a class="reference external" href="CLM-URL">Chapter 4</a>, again for the expert user, we give details on how to do some particularly difficult special cases.
For example, we give the protocol for spinning up the clm5.0-BGC and CLMCN models as well as CLM with dynamic vegetation active (CNDV).
We give instructions to do a spinup case from a previous case with Coupler history output for atmospheric forcing.
We also give instructions on running both the prognostic crop and irrigation models.
Lastly we tell the user how to use the DATM model to send historical CO2 data to CLM.</p>
<p><a class="reference external" href="CLM-URL">Chapter 5</a> outlines how to do single-point or regional simulations using clm5.0.
This is useful to either compare clm5.0 simulations with point observational stations, such as tower sites (which might include your own atmospheric forcing), or to do quick simulations with CLM for example to test a new parameterization.
There are several different ways given on how to perform single-point simulations which range from simple PTS_MODE to more complex where you create all your own datasets, tying into <a class="reference external" href="CLM-URL">Chapter 2</a> and also <a class="reference external" href="CLM-URL">Chapter 3</a> to add the files into the build-namelist XML database.
The PTCLM python script to run single-point simulations was added back in for this release (but it has bugs that don’t allow it to work out of the box).
CLM4 in CESM1.0.5 has a fully working versions of PTCLM.</p>
<p>Need <a class="reference external" href="CLM-URL">Chapter 6</a> blurb…</p>
<p><a class="reference external" href="CLM-URL">Chapter 7</a> gives some guidance on trouble-shooting problems when using clm5.0.
It doesn’t cover all possible problems with CLM, but gives you some guidelines for things that can be done for some common problems.</p>
<p><a class="reference external" href="CLM-URL">Chapter 8</a>  goes over the automated testing scripts for validating that the CLM is working correctly.
The test scripts run many different configurations and options with CLM4.0 physics as well and clm5.0 physics making sure that they work, as well as doing automated testing to verify restarts are working correctly, and testing at many different resolutions.
In general this is an activity important only for a developer of clm5.0, but could also be used by users who are doing extensive code modifications and want to ensure that the model continues to work correctly.</p>
<p>In the appendices we talk about some issues that are useful for advanced users and developers of clm5.0.</p>
<p>Finally in <a class="reference external" href="CLM-URL">Appendix A</a> we give instructions on how to build the documentation associated with clm5.0 (i.e. how to build this document).
This document is included in every CLM distribution and can be built so that you can view a local copy rather than having to go to the CESM website.
This also could be useful for developers who need to update the documentation due to changes they have made.</p>
</div>
<div class="section" id="readme-file-describing-version">
<h1>1.1.4. README file describing clm5.0<a class="headerlink" href="#readme-file-describing-version" title="Permalink to this headline">¶</a></h1>
<p>The README (which can be found in <code class="docutils literal notranslate"><span class="pre">$CTSMROOT/doc</span></code>) is repeated here.</p>
</div>
<div class="section" id="best-practices">
<span id="best-practices-for-usage"></span><h1>1.1.5. Best Practices<a class="headerlink" href="#best-practices" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li>clm5.0 includes BOTH the old CLM4.0, CLM4.5 physics AND the new clm5.0 physics and you can toggle between those three.
The “standard” practice for CLM4.0 is to run with CN on, and with Qian atmospheric forcing.
While the “standard” practice for CLM4.5 is to run with BGC on, and CRUNCEP atmospheric forcing.
And finally the “standard” practice for clm5.0 is to run with BGC and Prognostic Crop on, with the MOSART model for river routing, as well as the CISM
ice sheet model, and using GSWP3 atmospheric forcing.
“BGC” is the new clm5.0 biogeochemistry and include CENTURY-like pools, vertical resolved carbon, as well as Nitrification and de-Nitrification (see <a class="reference external" href="CLM-URL">the Section called Some Acronym’s and Terms We’ll be Using in Other resources to get help from</a> ).</li>
<li>When running with CLMCN (either CLM4.0 or clm5.0 physics) or clm5.0-BGC, it is critical to begin with initial conditions that are provided with the release or to spin the model up following the CN spinup procedure before conducting scientific runs (see <a class="reference external" href="CLM-URL">the Section called Spinning up the |version| biogeochemistry (CLMBGC spinup) in Chapter 4</a> for clm5.0 or <a class="reference external" href="CLM-URL">the Section called Spinning up the CLM4.0 biogeochemistry Carbon-Nitrogen Model (CN spinup) in Chapter 4</a> for CLM4.0).
Simulations without a proper spinup will effectively be starting from an unvegetated world.
See <a class="reference external" href="CLM-URL">the Section called Setting Your Initial Conditions File in Chapter 1</a> for information on how to provide initial conditions for your simulation.</li>
<li>Initial condition files are provided for CLM4.0-CN as before, for fully coupled BCN and offline ICN cases for 1850 and 2000 at finite volume grids: 1deg (0.9x1.25), 2deg (1.9x2.5), and T31 resolutions.
We also have interpolated initial conditions for BCN for 1850 and 2000 for two finite volume grids: 10x15, 4x5 and two HOMME grids (ne30np4 and ne120np4).
There’s also an initial condition file for ICN with the prognostic crop model for 2000 at 2deg resolution, and one with CLMSP for 2000 at 2deg resolution.
We also have initial conditions for offline CNDV for 1850.
The 1850 initial condition files are in ‘reasonable’ equilibrium.
The 2000 initial condition files represent the model state for the year 2000, and have been taken from transient simulations.
Therefore, by design the year 2000 initial condition files do not represent an equilibrium state.
Note also that spinning the 2000 initial conditions out to equilibrium will not reflect the best estimate of the real carbon/nitrogen state for the year 2000.</li>
<li>Initial condition files are also provided for clm5.0 for several configurations and resolutions.
For CLM4.5-SP and CLM4.5-BGC with both CRUNCEP and GSWP3 forcing we have initial conditions at 1deg resolution for 1850.
For clm5.0-SP and clm5.0-BGC-Crop with both CRUNCEP and GSWP3 forcing we have initial conditions at 1deg resolution for 1850.
Normally, these files are interpolated to any other resolution that you run at.</li>
<li>Users can interpolate initial condition files at different resolutions at startup of a CLM4.5 or clm5.0 simulation. And the file created can be stored for later use.
Interpolated initial condition files may no longer be in ‘reasonable’ equilibrium.</li>
<li>In clm5.0 for both clm5.0-CN, clm5.0-BGC, and clm5.0-BGC-Crop the new fire model requires lightning frequency data, and human population density (both are read inside of CLM).
By default we have provided a climatology dataset for lightning frequency and a dataset with coverage from 1850 to 2014 for population density.
Both of these datasets are interpolated from the native resolution of the datasets to the resolution you are running the model on.
If you are running with an atmosphere model or forcing that is significantly different than present day – the lightning frequency may NOT appropriately correspond to your atmosphere forcing and fire initiation would be inappropriate.</li>
<li>Aerosol deposition is a required field to both CLM4.0, CLM4.5 and clm5.0 physics, sent from the atmosphere model.
Simulations without aerosol deposition will exhibit unreasonably high snow albedos.
The model sends aerosol deposition from the atmospheric model (either CAM or DATM).
When running with prescribed aerosol the atmosphere model will interpolate the aerosols from 2-degree resolution to the resolution the atmosphere model is running at.</li>
</ul>
</div>
<div class="section" id="a-ctsm-versus-a-cesm-checkout">
<span id="ctsm-vs-cesm-checkout"></span><h1>1.1.6. A CTSM versus a CESM checkout<a class="headerlink" href="#a-ctsm-versus-a-cesm-checkout" title="Permalink to this headline">¶</a></h1>
<p>The directory structure for clm5.0 is different depending on if it’s checked out from release-clm5.0.01 or CESM2.0.0.
If clm5.0 is checked out from <a class="reference external" href="https://github.com/ESCOMP/ctsm">https://github.com/ESCOMP/ctsm</a> the CLM source code is directly under the top level directory. If CESM2.0.0
is checkout out from <a class="reference external" href="https://github.com/ESCOMP/cesm">https://github.com/ESCOMP/cesm</a> then the CLM source directories are under “components/clm” from the top level directory. We
will refer to this directory for the CLM source directories in the User’s Guide as “$CTSMROOT”.</p>
</div>
<div class="section" id="id16">
<span id="id17"></span><h1>1.1.7. How To Use This Document<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h1>
<p>Links to descriptions and definitions have been provided in the code below. We use the same conventions used in the CESM documentation as outlined below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Throughout the document this style is used to indicate shell
commands and options, fragments of code, namelist variables, etc.
Where examples from an interactive shell session are presented, lines
starting with &gt; indicate the shell prompt.  A backslash &quot;\&quot; at the end
of a line means the line continues onto the next one (as it does in
standard UNIX shell).  Note that $EDITOR&quot; is used to refer to the
text editor of your choice. $EDITOR is a standard UNIX environment
variable and should be set on most UNIX systems. Comment lines are
signaled with a &quot;#&quot; sign, which is the standard UNIX comment sign as well.
$CSMDATA is used to denote the path to the inputdata directory for
your CESM data.

&gt; This is a shell prompt with commands \
that continues to the following line.
&gt; $EDITOR filename # means you are using a text editor to edit &quot;filename&quot;
# This is a comment line

$CTSMROOT means the path to the root of the CTSM model
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="quickstart.html" title="1.1.8. Quickstart"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="1.1. Overview"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">clmdoc release-clm5.0.01 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >1. clm5.0 User’s Guide</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >1.1. Overview</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Erik Kluzek, Bill Sacks, Ben Andre.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.3.
    </div>
  </body>
</html>