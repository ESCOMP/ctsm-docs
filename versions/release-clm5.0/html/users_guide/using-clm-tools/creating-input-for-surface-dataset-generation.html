

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>1.3.4. Creating input for surface dataset generation &mdash; ctsm release-clm5.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="ctsm release-clm5.0 documentation" href="../../index.html"/>
        <link rel="up" title="1.3. Using CLM tools" href="index.html"/>
        <link rel="next" title="1.3.5. Creating Surface Datasets" href="creating-surface-datasets.html"/>
        <link rel="prev" title="1.3.2. Building the CLM tools" href="building-the-clm-tools.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> ctsm
          

          
          </a>

          
            
            
              <div class="version">
                
                  <div class="version-dropdown">
                    <select class="version-list" id="version-list">
                      <option value=''>CLM5.0</option>
                      
                        
                      
                        
                          <option value="">[placeholder]</option>
                        
                      
                    </select>
                  </div>
                
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">1. CLM5.0 User’s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../overview/index.html">1.1. Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setting-up-and-running-a-case/index.html">1.2. Setting Up and Running a Case</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">1.3. Using CLM tools</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="what-are-the-clm-tools.html">1.3.1. What are the CLM tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="building-the-clm-tools.html">1.3.2. Building the CLM tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="building-the-clm-tools.html#building-the-clm-tools-that-use-the-cime-configure-build-system">1.3.3. Building the CLM tools that use the CIME configure/build system</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">1.3.4. Creating input for surface dataset generation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#generating-scrip-grid-files">1.3.4.1. 1. Generating SCRIP grid files</a></li>
<li class="toctree-l4"><a class="reference internal" href="#creating-mapping-files-for-mksurfdata-map">1.3.4.2. 2. Creating mapping files for mksurfdata_map</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="creating-surface-datasets.html">1.3.5. Creating Surface Datasets</a></li>
<li class="toctree-l3"><a class="reference internal" href="datasts-for-observational-sites.html">1.3.6. Datasets for Observational Sites</a></li>
<li class="toctree-l3"><a class="reference internal" href="creating-domain-files.html">1.3.7. Creating CLM domain files</a></li>
<li class="toctree-l3"><a class="reference internal" href="observational-sites-datasets.html">1.3.8. Observational Sites Datasets</a></li>
<li class="toctree-l3"><a class="reference internal" href="cprnc.html">1.3.9. Comparing History Files</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../adding-new-resolutions/index.html">1.4. Adding New Resolutions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../running-special-cases/index.html">1.5. Running Special Cases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../running-single-points/index.html">1.6. Running Single Point Regional Cases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../running-PTCLM/index.html">1.7. Running PTCLM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../trouble-shooting/index.html">1.8. Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/index.html">1.9. Testing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tech_note/index.html">2. CLM Technical Note</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ctsm</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html"><span class="section-number">1. </span>CLM5.0 User’s Guide</a> &raquo;</li>
        
          <li><a href="index.html"><span class="section-number">1.3. </span>Using CLM tools</a> &raquo;</li>
        
      <li><span class="section-number">1.3.4. </span>Creating input for surface dataset generation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/users_guide/using-clm-tools/creating-input-for-surface-dataset-generation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="creating-input-for-surface-dataset-generation">
<span id="creating-maps-for-mksurfdata"></span><h1><span class="section-number">1.3.4. </span>Creating input for surface dataset generation<a class="headerlink" href="#creating-input-for-surface-dataset-generation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="generating-scrip-grid-files">
<h2><span class="section-number">1.3.4.1. </span>1. Generating SCRIP grid files<a class="headerlink" href="#generating-scrip-grid-files" title="Permalink to this headline">¶</a></h2>
<p>The utility <code class="docutils literal notranslate"><span class="pre">mkmapdata.sh</span></code> requires SCRIP format input files to describe the input and output grids that maps are generated for. CLM provides a utility, <code class="docutils literal notranslate"><span class="pre">mkmapgrids</span></code> that generates those files.
The program converts old formats of CAM or CLM grid files to SCRIP grid format. There is also a NCL script (<code class="docutils literal notranslate"><span class="pre">mkscripgrid.ncl</span></code>) to create regular latitude longitude regional or single-point grids at the resolution the user desires.</p>
<p>SCRIP grid files for all the standard model resolutions and the raw surface datasets have already been done and the files are in the XML database. Hence, this step doesn’t need to be done – EXCEPT WHEN YOU ARE CREATING YOUR OWN GRIDS.</p>
<div class="section" id="using-mknocnmap-pl-to-create-grid-and-maps-for-single-point-regional-grids">
<h3><span class="section-number">1.3.4.1.1. </span>Using mknocnmap.pl to create grid and maps for single-point regional grids<a class="headerlink" href="#using-mknocnmap-pl-to-create-grid-and-maps-for-single-point-regional-grids" title="Permalink to this headline">¶</a></h3>
<p>If you want to create a regular latitude/longitude single-point or regional grid, we suggest you use <strong>mknoocnmap.pl</strong> in <code class="docutils literal notranslate"><span class="pre">$CTSMROOT/tools/mkmapdata</span></code> which will create both the SCRIP grid file you need (using <code class="docutils literal notranslate"><span class="pre">$CTSMROOT/tools/mkmapgrids/mkscripgrid.ncl</span></code> AND an identity mapping file assuming there is NO ocean in your grid domain. If you HAVE ocean in your domain you could modify the mask in the SCRIP grid file for ocean, and then use <strong>ESMF_RegridWeightGen</strong> to create the mapping file, and <strong>gen_domain</strong> to create the domain file. Like other tools, <code class="docutils literal notranslate"><span class="pre">./mkmapdata/mknoocnmap.pl</span></code> has a help option with the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SYNOPSIS</span>
     <span class="n">mknoocnmap</span><span class="o">.</span><span class="n">pl</span> <span class="p">[</span><span class="n">options</span><span class="p">]</span>     <span class="n">Gets</span> <span class="nb">map</span> <span class="ow">and</span> <span class="n">grid</span> <span class="n">files</span> <span class="k">for</span> <span class="n">a</span> <span class="n">single</span> <span class="n">land</span><span class="o">-</span><span class="n">only</span> <span class="n">point</span><span class="o">.</span>
<span class="n">REQUIRED</span> <span class="n">OPTIONS</span>
     <span class="o">-</span><span class="n">centerpoint</span> <span class="p">[</span><span class="ow">or</span> <span class="o">-</span><span class="n">p</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">lat</span><span class="p">,</span><span class="n">lon</span><span class="o">&gt;</span> <span class="n">Center</span> <span class="n">latitude</span><span class="p">,</span><span class="n">longitude</span> <span class="n">of</span> <span class="n">the</span> <span class="n">grid</span> <span class="n">to</span> <span class="n">create</span><span class="o">.</span>
     <span class="o">-</span><span class="n">name</span> <span class="p">[</span><span class="o">-</span><span class="ow">or</span> <span class="o">-</span><span class="n">n</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span>       <span class="n">Name</span> <span class="n">to</span> <span class="n">use</span> <span class="n">to</span> <span class="n">describe</span> <span class="n">point</span>

<span class="n">OPTIONS</span>
     <span class="o">-</span><span class="n">dx</span> <span class="o">&lt;</span><span class="n">number</span><span class="o">&gt;</span>                   <span class="n">Size</span> <span class="n">of</span> <span class="n">total</span> <span class="n">grid</span> <span class="ow">in</span> <span class="n">degrees</span> <span class="ow">in</span> <span class="n">longitude</span> <span class="n">direction</span>
                                    <span class="p">(</span><span class="n">default</span> <span class="ow">is</span> <span class="mf">0.1</span><span class="p">)</span>
     <span class="o">-</span><span class="n">dy</span> <span class="o">&lt;</span><span class="n">number</span><span class="o">&gt;</span>                   <span class="n">Size</span> <span class="n">of</span> <span class="n">total</span> <span class="n">grid</span> <span class="ow">in</span> <span class="n">degrees</span> <span class="ow">in</span> <span class="n">latitude</span> <span class="n">direction</span>
                                    <span class="p">(</span><span class="n">default</span> <span class="ow">is</span> <span class="mf">0.1</span><span class="p">)</span>
     <span class="o">-</span><span class="n">silent</span> <span class="p">[</span><span class="ow">or</span> <span class="o">-</span><span class="n">s</span><span class="p">]</span>             <span class="n">Make</span> <span class="n">output</span> <span class="n">silent</span>
     <span class="o">-</span><span class="n">help</span> <span class="p">[</span><span class="ow">or</span> <span class="o">-</span><span class="n">h</span><span class="p">]</span>               <span class="n">Print</span> <span class="n">usage</span> <span class="n">to</span> <span class="n">STDOUT</span><span class="o">.</span>
     <span class="o">-</span><span class="n">verbose</span> <span class="p">[</span><span class="ow">or</span> <span class="o">-</span><span class="n">v</span><span class="p">]</span>                    <span class="n">Make</span> <span class="n">output</span> <span class="n">more</span> <span class="n">verbose</span><span class="o">.</span>
     <span class="o">-</span><span class="n">nx</span> <span class="o">&lt;</span><span class="n">number</span><span class="o">&gt;</span>                   <span class="n">Number</span> <span class="n">of</span> <span class="n">longitudes</span> <span class="p">(</span><span class="n">default</span> <span class="ow">is</span> <span class="mi">1</span><span class="p">)</span>
     <span class="o">-</span><span class="n">ny</span> <span class="o">&lt;</span><span class="n">number</span><span class="o">&gt;</span>                   <span class="n">Number</span> <span class="n">of</span> <span class="n">latitudes</span>  <span class="p">(</span><span class="n">default</span> <span class="ow">is</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="creating-domain-files.html#figure-mknoocnmap-pl"><span class="std std-numref">Figure 1.3.5</span></a> for a visual representation of this process.</p>
</div>
</div>
<div class="section" id="creating-mapping-files-for-mksurfdata-map">
<h2><span class="section-number">1.3.4.2. </span>2. Creating mapping files for mksurfdata_map<a class="headerlink" href="#creating-mapping-files-for-mksurfdata-map" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">mkmapdata.sh</span></code> uses the above SCRIP grid input files to create SCRIP mapping data files (uses ESMF).</p>
<p>The bash shell script <code class="docutils literal notranslate"><span class="pre">$CTSMROOT/tools/mkmapgrids/mkmapdata.sh</span></code> uses <strong>ESMF_RegridWeightGen</strong> to create a list of maps from the raw datasets that are input to <strong>mksurfdata_map</strong>.
Each dataset that has a different grid, or land-mask needs a different mapping file for it, but many different raw datasets share the same grid/land-mask as other files.
Hence, there doesn’t need to be a different mapping file for EACH raw dataset – just for each raw dataset that has a DIFFERENT grid or land-mask..
See <a class="reference internal" href="#figure-mkmapdata-sh"><span class="std std-numref">Figure 1.3.1</span></a> for a visual representation of how this works.
The bash script figures out which mapping files it needs to create and then runs <strong>ESMF_RegridWeightGen</strong> for each one.
You can then either enter the datasets into the XML database (see <a class="reference external" href="CLM-URL">Chapter 3</a> or leave the files in place, and use the “-res usrspec -usr_gname -usr_gdate” options to <strong>mksurfdata_map</strong> (see <a class="reference external" href="CLM-URL">the Section called Running mksurfdata.pl</a> below).
mkmapdata.sh has a help option with the following</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">../../</span><span class="n">tools</span><span class="o">/</span><span class="n">mkmapdata</span><span class="o">/</span><span class="n">mkmapdata</span><span class="o">.</span><span class="n">sh</span>

<span class="o">**********************</span>
<span class="n">usage</span> <span class="n">on</span> <span class="n">cheyenne</span><span class="p">:</span>
<span class="o">./</span><span class="n">mkmapdata</span><span class="o">.</span><span class="n">sh</span>

<span class="n">valid</span> <span class="n">arguments</span><span class="p">:</span>
<span class="p">[</span><span class="o">-</span><span class="n">f</span><span class="o">|--</span><span class="n">gridfile</span> <span class="o">&lt;</span><span class="n">gridname</span><span class="o">&gt;</span><span class="p">]</span>
     <span class="n">Full</span> <span class="n">pathname</span> <span class="n">of</span> <span class="n">model</span> <span class="n">SCRIP</span> <span class="n">grid</span> <span class="n">file</span> <span class="n">to</span> <span class="n">use</span>
     <span class="n">This</span> <span class="n">variable</span> <span class="n">should</span> <span class="n">be</span> <span class="nb">set</span> <span class="k">if</span> <span class="n">this</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">a</span> <span class="n">supported</span> <span class="n">grid</span>
     <span class="n">This</span> <span class="n">variable</span> <span class="n">will</span> <span class="n">override</span> <span class="n">the</span> <span class="n">automatic</span> <span class="n">generation</span> <span class="n">of</span> <span class="n">the</span>
     <span class="n">filename</span> <span class="n">generated</span> <span class="kn">from</span> <span class="nn">the</span> <span class="o">-</span><span class="n">res</span> <span class="n">argument</span>
     <span class="n">the</span> <span class="n">filename</span> <span class="ow">is</span> <span class="n">generated</span> <span class="n">ASSUMING</span> <span class="n">that</span> <span class="n">this</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">supported</span>
     <span class="n">grid</span> <span class="n">that</span> <span class="n">has</span> <span class="n">entries</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">file</span> <span class="n">namelist_defaults_clm</span><span class="o">.</span><span class="n">xml</span>
     <span class="n">the</span> <span class="o">-</span><span class="n">r</span><span class="o">|--</span><span class="n">res</span> <span class="n">argument</span> <span class="n">MUST</span> <span class="n">be</span> <span class="n">specied</span> <span class="k">if</span> <span class="n">this</span> <span class="n">argument</span> <span class="ow">is</span> <span class="n">specified</span>
<span class="p">[</span><span class="o">-</span><span class="n">r</span><span class="o">|--</span><span class="n">res</span> <span class="o">&lt;</span><span class="n">res</span><span class="o">&gt;</span><span class="p">]</span>
     <span class="n">Model</span> <span class="n">output</span> <span class="n">resolution</span> <span class="p">(</span><span class="n">default</span> <span class="ow">is</span> <span class="mi">10</span><span class="n">x15</span><span class="p">)</span>
<span class="p">[</span><span class="o">-</span><span class="n">t</span><span class="o">|--</span><span class="n">gridtype</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">]</span>
     <span class="n">Model</span> <span class="n">output</span> <span class="n">grid</span> <span class="nb">type</span>
     <span class="n">supported</span> <span class="n">values</span> <span class="n">are</span> <span class="p">[</span><span class="n">regional</span><span class="p">,</span><span class="k">global</span><span class="p">],</span> <span class="p">(</span><span class="n">default</span> <span class="ow">is</span> <span class="k">global</span><span class="p">)</span>
<span class="p">[</span><span class="o">-</span><span class="n">b</span><span class="o">|--</span><span class="n">batch</span><span class="p">]</span>
     <span class="n">Toggles</span> <span class="n">batch</span> <span class="n">mode</span> <span class="n">usage</span><span class="o">.</span>
<span class="n">If</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">run</span> <span class="ow">in</span> <span class="n">batch</span> <span class="n">mode</span>
     <span class="n">you</span> <span class="n">need</span> <span class="n">to</span> <span class="n">have</span> <span class="n">a</span> <span class="n">separate</span> <span class="n">batch</span> <span class="n">script</span> <span class="k">for</span> <span class="n">a</span> <span class="n">supported</span> <span class="n">machine</span>
     <span class="n">that</span> <span class="n">calls</span> <span class="n">this</span> <span class="n">script</span> <span class="n">interactively</span> <span class="o">-</span> <span class="n">you</span> <span class="n">cannot</span> <span class="n">submit</span> <span class="n">this</span>
     <span class="n">script</span> <span class="n">directory</span> <span class="n">to</span> <span class="n">the</span> <span class="n">batch</span> <span class="n">system</span>
<span class="p">[</span><span class="o">-</span><span class="n">l</span><span class="o">|--</span><span class="nb">list</span><span class="p">]</span>
     <span class="n">List</span> <span class="n">mapping</span> <span class="n">files</span> <span class="n">required</span> <span class="p">(</span><span class="n">use</span> <span class="n">check_input_data</span> <span class="n">to</span> <span class="n">get</span> <span class="n">them</span><span class="p">)</span>
     <span class="n">also</span> <span class="n">writes</span> <span class="n">data</span> <span class="n">to</span> <span class="n">clm</span><span class="o">.</span><span class="n">input_data_list</span>
<span class="p">[</span><span class="o">-</span><span class="n">d</span><span class="o">|--</span><span class="n">debug</span><span class="p">]</span>
     <span class="n">Toggles</span> <span class="n">debug</span><span class="o">-</span><span class="n">only</span> <span class="p">(</span><span class="n">don</span><span class="s1">&#39;t actually run mkmapdata just echo what would happen)</span>
<span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="o">|--</span><span class="n">help</span><span class="p">]</span>
     <span class="n">Displays</span> <span class="n">this</span> <span class="n">help</span> <span class="n">message</span>
<span class="p">[</span><span class="o">-</span><span class="n">v</span><span class="o">|--</span><span class="n">verbose</span><span class="p">]</span>
     <span class="n">Toggle</span> <span class="n">verbose</span> <span class="n">usage</span> <span class="o">--</span> <span class="n">log</span> <span class="n">more</span> <span class="n">information</span> <span class="n">on</span> <span class="n">what</span> <span class="ow">is</span> <span class="n">happening</span>

 <span class="n">You</span> <span class="n">can</span> <span class="n">also</span> <span class="nb">set</span> <span class="n">the</span> <span class="n">following</span> <span class="n">env</span> <span class="n">variables</span><span class="p">:</span>
  <span class="n">ESMFBIN_PATH</span> <span class="o">-</span> <span class="n">Path</span> <span class="n">to</span> <span class="n">ESMF</span> <span class="n">binaries</span>
                 <span class="p">(</span><span class="n">default</span> <span class="ow">is</span> <span class="o">/</span><span class="n">contrib</span><span class="o">/</span><span class="n">esmf</span><span class="o">-</span><span class="mf">5.3</span><span class="o">.</span><span class="mi">0</span><span class="o">-</span><span class="mi">64</span><span class="o">-</span><span class="n">O</span><span class="o">/</span><span class="nb">bin</span><span class="p">)</span>
  <span class="n">CSMDATA</span> <span class="o">------</span> <span class="n">Path</span> <span class="n">to</span> <span class="n">CESM</span> <span class="nb">input</span> <span class="n">data</span>
                 <span class="p">(</span><span class="n">default</span> <span class="ow">is</span> <span class="o">/</span><span class="n">glade</span><span class="o">/</span><span class="n">p</span><span class="o">/</span><span class="n">cesm</span><span class="o">/</span><span class="n">cseg</span><span class="o">/</span><span class="n">inputdata</span><span class="p">)</span>
  <span class="n">MPIEXEC</span> <span class="o">------</span> <span class="n">Name</span> <span class="n">of</span> <span class="n">mpirun</span> <span class="n">executable</span>
                 <span class="p">(</span><span class="n">default</span> <span class="ow">is</span> <span class="n">mpirun</span><span class="o">.</span><span class="n">lsf</span><span class="p">)</span>
  <span class="n">REGRID_PROC</span> <span class="o">--</span> <span class="n">Number</span> <span class="n">of</span> <span class="n">MPI</span> <span class="n">processors</span> <span class="n">to</span> <span class="n">use</span>
                 <span class="p">(</span><span class="n">default</span> <span class="ow">is</span> <span class="mi">8</span><span class="p">)</span>

<span class="o">**</span><span class="k">pass</span> <span class="n">environment</span> <span class="n">variables</span> <span class="n">by</span> <span class="n">preceding</span> <span class="n">above</span> <span class="n">commands</span>
  <span class="k">with</span> <span class="s1">&#39;env var1=setting var2=setting &#39;</span>
<span class="o">**********************</span>
</pre></div>
</div>
<div class="figure align-default" id="id1">
<span id="figure-mkmapdata-sh"></span><img alt="../../_images/mkmapdata_details.jpeg" src="../../_images/mkmapdata_details.jpeg" />
<p class="caption"><span class="caption-number">Figure 1.3.1 </span><span class="caption-text">Details of running mkmapdata.sh</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>Each of the raw datasets for <strong>mksurfdata_map</strong> needs a mapping file to map from the output grid you are running on to the grid and land-mask for that dataset. This is what <strong>mkmapdata.sh</strong> does. To create the mapping files you need a SCRIP grid file to correspond with each resolution and land mask that you have a raw data file in <strong>mksurfdata_map</strong>. Some raw datasets share the same grid and land mask – hence they can share the same SCRIP grid file. The output maps created here go into <strong>mksurfdata_map</strong> see <code class="xref std std-numref docutils literal notranslate"><span class="pre">Figure</span> <span class="pre">mksurfdatamap</span></code>.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="creating-surface-datasets.html" class="btn btn-neutral float-right" title="1.3.5. Creating Surface Datasets" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="building-the-clm-tools.html" class="btn btn-neutral" title="1.3.2. Building the CLM tools" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, UCAR.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
     
<script>var version_json_loc = "../../../../versions.json";</script>


</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/pop_ver.js"></script>
    

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>