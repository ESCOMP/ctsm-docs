

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>1.6.2. Running a single point using global data - PTS_MODE &mdash; ctsm release-clm5.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="ctsm release-clm5.0 documentation" href="../../index.html"/>
        <link rel="up" title="1.6. Running Single Point Regional Cases" href="index.html"/>
        <link rel="next" title="1.6.3. Running Single Point Configurations" href="running-single-point-configurations.html"/>
        <link rel="prev" title="1.6.1. Single and Regional Grid Configurations" href="single-point-and-regional-grid-configurations.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> ctsm
          

          
          </a>

          
            
            
              <div class="version">
                
                  <div class="version-dropdown">
                    <select class="version-list" id="version-list">
                      <option value=''>CLM5.0</option>
                      
                        
                      
                        
                          <option value="">[placeholder]</option>
                        
                      
                    </select>
                  </div>
                
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">1. CLM5.0 User’s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../overview/index.html">1.1. Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setting-up-and-running-a-case/index.html">1.2. Setting Up and Running a Case</a></li>
<li class="toctree-l2"><a class="reference internal" href="../using-clm-tools/index.html">1.3. Using CLM tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../adding-new-resolutions/index.html">1.4. Adding New Resolutions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../running-special-cases/index.html">1.5. Running Special Cases</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">1.6. Running Single Point Regional Cases</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="single-point-and-regional-grid-configurations.html">1.6.1. Single and Regional Grid Configurations</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">1.6.2. Running a single point using global data - PTS_MODE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#running-in-a-single-processor">1.6.2.1. Running in a single processor</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="running-single-point-configurations.html">1.6.3. Running Single Point Configurations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../running-PTCLM/index.html">1.7. Running PTCLM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../trouble-shooting/index.html">1.8. Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/index.html">1.9. Testing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tech_note/index.html">2. CLM Technical Note</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ctsm</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html"><span class="section-number">1. </span>CLM5.0 User’s Guide</a> &raquo;</li>
        
          <li><a href="index.html"><span class="section-number">1.6. </span>Running Single Point Regional Cases</a> &raquo;</li>
        
      <li><span class="section-number">1.6.2. </span>Running a single point using global data - PTS_MODE</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/users_guide/running-single-points/running-pts_mode-configurations.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="running-a-single-point-using-global-data-pts-mode">
<span id="pts-mode"></span><h1><span class="section-number">1.6.2. </span>Running a single point using global data - PTS_MODE<a class="headerlink" href="#running-a-single-point-using-global-data-pts-mode" title="Permalink to this headline">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">PTS_MODE</span></code> enables you to run the model using global datasets, but just picking a single point from those datasets and operating on it.
It can be a very quick way to do fast simulations and get a quick turnaround.</p>
<p>To setup a <code class="docutils literal notranslate"><span class="pre">PTS_MODE</span></code> simulation you use the “-pts_lat” and “-pts_lon” arguments to <strong>create_newcase</strong> to give the latitude and longitude of the point you want to simulate for (the code will pick the point on the global grid nearest to the point you give. Here’s an example to setup a simulation for the nearest point at 2-degree resolution to Boulder Colorado.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">cd</span> <span class="n">scripts</span>
<span class="o">&gt;</span> <span class="o">./</span><span class="n">create_newcase</span> <span class="o">-</span><span class="n">case</span> <span class="n">testPTS_MODE</span> <span class="o">-</span><span class="n">res</span> <span class="n">f19_g17_gl4</span> <span class="o">-</span><span class="n">compset</span> <span class="n">I1850Clm50BgcCropCru</span> <span class="o">-</span><span class="n">pts_lat</span> <span class="mf">40.0</span> <span class="o">-</span><span class="n">pts_lon</span> <span class="o">-</span><span class="mi">105</span>
<span class="o">&gt;</span> <span class="n">cd</span> <span class="n">testPTS_MODE</span>

<span class="c1"># We make sure the model will start up cold rather than using initial conditions</span>
<span class="o">&gt;</span> <span class="o">./</span><span class="n">xmlchange</span> <span class="n">CLM_FORCE_COLDSTART</span><span class="o">=</span><span class="n">on</span><span class="p">,</span><span class="n">RUN_TYPE</span><span class="o">=</span><span class="n">startup</span>
</pre></div>
</div>
<p>Then setup, build and run as normal. We make sure initial conditions are NOT used since <code class="docutils literal notranslate"><span class="pre">PTS_MODE</span></code> currently CAN NOT run with initial conditions.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><code class="docutils literal notranslate"><span class="pre">PTS_MODE</span></code> currently does NOT restart nor is it able to startup from global initial condition files. This is a known issue we are unlikely to fix.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can change the point you are simulating for at run-time by changing the values of <code class="docutils literal notranslate"><span class="pre">PTS_LAT</span></code> and <code class="docutils literal notranslate"><span class="pre">PTS_LON</span></code> in the <code class="docutils literal notranslate"><span class="pre">env_run.xml</span></code> file.</p>
</div>
<div class="section" id="running-in-a-single-processor">
<h2><span class="section-number">1.6.2.1. </span>Running in a single processor<a class="headerlink" href="#running-in-a-single-processor" title="Permalink to this headline">¶</a></h2>
<p>Note, that when running with <code class="docutils literal notranslate"><span class="pre">PTS_MODE</span></code> the number of processors is automatically set to one.
When running a single grid point you can only use a single processor.
You might also want to set the <code class="docutils literal notranslate"><span class="pre">env_build.xml</span></code> variable: <code class="docutils literal notranslate"><span class="pre">MPILIB=mpi-serial</span></code> to <code class="docutils literal notranslate"><span class="pre">TRUE</span></code> so that you can also run interactively without having to use MPI to start up your job.</p>
<p>On many machines, batch queues have a minimum number of nodes or processors that can be used.
On these machines you may have to change the queue and possibly the time-limits of the job, to get it to run in the batch queue.
On the NCAR machine, cheyenne, this is done for you automatically, and the “share” or “caldera” queue is used for such single-processor simulations.
For single point mode you also may want to consider using a smaller workstation or cluster, rather than a super-computer, because you can’t take advantage of the multi-processing power of the super-computer anyway.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="running-single-point-configurations.html" class="btn btn-neutral float-right" title="1.6.3. Running Single Point Configurations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="single-point-and-regional-grid-configurations.html" class="btn btn-neutral" title="1.6.1. Single and Regional Grid Configurations" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, UCAR.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
     
<script>var version_json_loc = "../../../../versions.json";</script>


</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/pop_ver.js"></script>
    

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>